# CLAUDE.md

This file provides guidance to Claude Code (claude.ai/code) when working with code in this repository.

## ν”„λ΅μ νΈ κ°μ”

**Stock Portfolio Dashboard v3**λ” κ°μΈ ν¬μμ(μ΄κΈ‰~μ¤‘κΈ‰)λ¥Ό μ„ν• React + TypeScript κΈ°λ° ν¬νΈν΄λ¦¬μ¤ κ΄€λ¦¬ μ›Ή μ• ν”λ¦¬μΌ€μ΄μ…μ…λ‹λ‹¤.

### ν•µμ‹¬ κ°€μΉ μ μ•

- **κ°„λ‹¨ν•κ³  μ§κ΄€μ μΈ μΈν„°νμ΄μ¤**: κΈμµ μ©μ–΄μ— μµμ™ν•μ§€ μ•μ€ μ‚¬μ©μλ„ μ‰½κ² μ΄ν•΄
- **μ‚¬μ©μ μ£Όλ„μ μΈ λ°μ΄ν„° κ΄€λ¦¬**: μ‹¤μ‹κ°„ API μ—†μ΄ μ‚¬μ©μκ°€ μλ™μΌλ΅ μ…λ ¥ν•λ” λ°μ΄ν„° κΈ°λ°
- **λ΅μ»¬ μ €μ¥μ„ ν†µν• λ°μ΄ν„° ν”„λΌμ΄λ²„μ‹ λ³΄μ¥**: LocalStorage μ‚¬μ©ν• μ™„μ „ ν΄λΌμ΄μ–ΈνΈ μ‚¬μ΄λ“ μ•±

### μ μ•½μ‚¬ν•­

- μ‹¤μ‹κ°„ μ£Όκ°€ λ°μ΄ν„° λ―Έμ κ³µ (μ‚¬μ©μ μλ™ μ…λ ¥)
- μ™Έλ¶€ API μ—°λ™ μ—†μ
- λ‹¤μ¤‘ μ‚¬μ©μ μ§€μ› μ—†μ (λ΅μ»¬ λ‹¨μΌ μ‚¬μ©μ)

## κ°λ° λ…λ Ήμ–΄

### κΈ°λ³Έ κ°λ° μ›ν¬ν”λ΅

```bash
npm run dev        # κ°λ° μ„λ²„ μ‹μ‘ (http://localhost:5173)
npm run build      # TypeScript μ»΄νμΌ λ° ν”„λ΅λ•μ… λΉλ“
npm run lint       # ESLint μ‹¤ν–‰ (TypeScript μ—λ¬λ” λΉλ“ μ‹ μ²΄ν¬λ¨)
npm run preview    # ν”„λ΅λ•μ… λΉλ“ λ―Έλ¦¬λ³΄κΈ°
```

### μ½”λ“ ν’μ§

- **TypeScript**: `tsc`κ°€ λΉλ“ κ³Όμ •μ— ν¬ν•¨λμ–΄ νƒ€μ… μ²΄ν¬ μν–‰
- **ESLint**: κΈ°λ³Έ JavaScript κ·μΉ™λ§ μ μ© (TypeScript κ·μΉ™μ€ μ»΄νμΌλ¬κ°€ μ²λ¦¬)
- **Prettier**: μ½”λ“ ν¬λ§·ν… μ„¤μ • μ™„λ£ (`.prettierrc` νμΌ μ°Έμ΅°)

## Token μ‚¬μ©λ‰ μµμ ν™”

### νμΌ μ½κΈ° μµμ ν™”

- **ν•„μ”ν• νμΌλ§ μ½κΈ°**: νƒ€μ… μ •μλ” `src/types/portfolio.ts`μ— μ§‘μ¤‘λμ–΄ μμ
- **ν•µμ‹¬ λ΅μ§ νμΌ**: `src/stores/portfolioStore.ts`, `src/utils/calculations.ts`, `src/utils/dataTransform.ts`
- **μ„¤μ • νμΌλ“¤**: `package.json`, `tailwind.config.js`, `tsconfig.json` λ“±μ€ κΈ°λ³Έ μ„¤μ • μ™„λ£λ¨

### κ²€μƒ‰ μµμ ν™”

- **Glob ν¨ν„΄ ν™μ©**: `src/components/**/*.tsx`, `src/utils/*.ts` λ“±μΌλ΅ λ²”μ„ μ ν•
- **GrepμΌλ΅ ν•¨μ/λ³€μ μ°ΎκΈ°**: νΉμ • ν•¨μλ…μ΄λ‚ νƒ€μ…λ…μΌλ΅ μ •ν™•ν• μ„μΉ μ°ΎκΈ°
- **Task λ„κµ¬ μ‚¬μ©**: λ³µμ΅ν• κ²€μƒ‰μ΄λ‚ μ—¬λ¬ νμΌ λ¶„μ„μ΄ ν•„μ”ν•  λ•λ§ μ‚¬μ©

### ν¨μ¨μ  κ°λ° ν¨ν„΄

- **κΈ°μ΅΄ ν¨ν„΄ μ¬μ‚¬μ©**: νƒ€μ… μ •μ, κ³„μ‚° λ΅μ§, λ°μ΄ν„° λ³€ν™ ν¨ν„΄μ΄ μ΄λ―Έ κµ¬μ¶•λ¨
- **Store μ•΅μ… ν™•μ¥**: μƒ κΈ°λ¥μ€ κΈ°μ΅΄ `portfolioStore.ts`μ— μ•΅μ… μ¶”κ°€λ΅ μ¶©λ¶„
- **μ»΄ν¬λ„νΈ κµ¬μ΅°**: `src/components/ui/`, `portfolio/`, `charts/` ν΄λ” κµ¬μ΅° ν™μ©

### λ¶ν•„μ”ν• μ‘μ—… λ°©μ§€

- **λ¬Έμ„ μƒμ„± κΈμ§€**: README, μ¶”κ°€ .md νμΌ μƒμ„± μ—†μ΄ κΈ°μ΅΄ κµ¬μ΅° ν™μ©
- **κ³Όλ„ν• λ¦¬ν©ν† λ§ λ°©μ§€**: μ‘λ™ν•λ” μ½”λ“λ” ν•„μ”μ‹μ—λ§ μμ •
- **μ¤‘λ³µ νƒ€μ… μ •μ λ°©μ§€**: `src/types/portfolio.ts`μ κΈ°μ΅΄ νƒ€μ… μµλ€ν• ν™μ©

## νμ΄μ§€ κµ¬μ΅° λ° κΈ°λ¥

### 3κ° μ£Όμ” νμ΄μ§€

1. **μ£Όμ‹ λ³΄μ  ν„ν™© νμ΄μ§€**: ν„μ¬ λ³΄μ  μ£Όμ‹ ν„ν™©μ„ ν•λμ— νμ•…ν•κ³  κΈ°κ°„λ³„ μμµλ¥  μ¶”μ 

   - λ³΄μ  μ£Όμ‹ λ©λ΅ ν…μ΄λΈ” (μΆ…λ©λ…, λ³΄μ μλ‰, ν‰κ· λ§¤μκ°€, ν„μ¬κ°€, ν‰κ°€μ†μµ, μμµλ¥ )
   - ν¬νΈν΄λ¦¬μ¤ μ΄ ν‰κ°€μ•΅ λ° μ†μµ μ”μ•½
   - μΆ…λ©λ³„ λΉ„μ¤‘ νμ΄μ°¨νΈ μ‹κ°ν™”
   - μ£Όμ‹ μ¶”κ°€/μμ •/μ‚­μ  κΈ°λ¥, μλ™ ν„μ¬κ°€ μ—…λ°μ΄νΈ

2. **ν¬νΈν΄λ¦¬μ¤ κ΄€λ¦¬ νμ΄μ§€**: ν¬νΈν΄λ¦¬μ¤ κµ¬μ„± λ° λ©ν‘ μ„¤μ • κ΄€λ¦¬

   - λ©ν‘ ν¬νΈν΄λ¦¬μ¤ λΉ„μ¤‘ μ„¤μ •
   - ν„μ¬ vs λ©ν‘ λΉ„μ¤‘ λΉ„κµ μ‹κ°ν™” (λ§‰λ€μ°¨νΈ)
   - νƒκ·Έ μ‹μ¤ν…μ„ ν†µν• μΆ…λ© λ¶„λ¥
   - ν¬νΈν΄λ¦¬μ¤ μ„±κ³Ό μ¶”μ 

3. **λ¦¬λ°Έλ°μ‹± κ΄€λ¦¬ νμ΄μ§€**: ν¬νΈν΄λ¦¬μ¤ λ¦¬λ°Έλ°μ‹± κ³„ν λ° μ‹¤ν–‰ μ§€μ›
   - ν„μ¬ vs λ©ν‘ λΉ„μ¤‘ μ°¨μ΄ κ³„μ‚°
   - λ¦¬λ°Έλ°μ‹± μ‹λ®¬λ μ΄μ… (λ§¤μ/λ§¤λ„ μλ‰ λ° κΈμ•΅ μ μ•)
   - κ³ μ • μ„κ³„κ°’ (5%) κΈ°μ¤€μΌλ΅ λ¦¬λ°Έλ°μ‹± ν•„μ” μΆ…λ© ν‘μ‹

### κ³µν†µ κΈ°λ¥

- **λ°μ΄ν„° κ΄€λ¦¬**: JSON/CSV νμΌ μ—…λ΅λ“/λ‹¤μ΄λ΅λ“, LocalStorage μλ™ μ €μ¥
- **UI**: λ°μ‘ν• λ””μμΈ, λ‹¤ν¬/λΌμ΄νΈ λ¨λ“ μ§€μ›, λ΅λ”© μƒνƒ λ° μ—λ¬ μ²λ¦¬

## μ•„ν‚¤ν…μ² κ°μ”

### μƒνƒ κ΄€λ¦¬ - Zustand Store

ν•µμ‹¬μ€ `src/stores/portfolioStore.ts`μ λ‹¨μΌ Zustand storeμ…λ‹λ‹¤:

```typescript
interface PortfolioStore {
  // μƒνƒ: ν¬νΈν΄λ¦¬μ¤ νμ¤ν† λ¦¬, λ©ν‘ λΉ„μ¤‘, μ„¤μ •, UI μƒνƒ
  portfolioHistory: PortfolioSnapshot[] // μ‹κ°„λ³„ ν¬νΈν΄λ¦¬μ¤ μ¤λƒ…μƒ·
  targets: TargetAllocation[] // λ©ν‘ μμ‚° λ°°λ¶„
  settings: Settings // λ‹¤ν¬λ¨λ“ λ“± μ•± μ„¤μ •
  ui: UIState // λ΅λ”©, μ—λ¬ μƒνƒ

  // κ³„μ‚°λ κ°’: ν„μ¬ ν¬νΈν΄λ¦¬μ¤ μƒνƒλ¥Ό μ‹¤μ‹κ°„ κ³„μ‚°
  getCurrentSnapshot: () => PortfolioSnapshot | null
  getCurrentHoldings: () => Holding[]
  getTotalValue: () => number
  getCurrentWeights: () => Record<string, number>
  getRebalancingSuggestions: () => RebalancingSuggestion[]

  // μ•΅μ…: CRUD μ‘μ—… λ° λ°μ΄ν„° κ΄€λ¦¬
  addHolding
  updateHolding
  deleteHolding
  loadFromJson
  exportToJson
  exportToCsv
  importFromCsv
}
```

### λ°μ΄ν„° μ§€μ†μ„± - LocalStorage Integration

- **μλ™ μ €μ¥**: Store λ³€κ²½μ‹ μλ™μΌλ΅ localStorageμ— μ €μ¥ (`subscribeToStore()`)
- **μ΄κΈ°ν™”**: μ•± μ‹μ‘μ‹ localStorageμ—μ„ λ°μ΄ν„° λ΅λ“ (`loadFromLocalStorage()`)
- **λ°±μ—…/λ³µμ›**: JSON/CSV νμΌλ΅ μ™„μ „ν• λ°μ΄ν„° λ°±μ—… λ° λ³µμ› μ§€μ›

### λ°μ΄ν„° λ°±μ—… ν•μ‹

**JSON λ°±μ—…**: μ™„μ „ν• ν¬νΈν΄λ¦¬μ¤ νμ¤ν† λ¦¬ λ° μ„¤μ • λ°μ΄ν„° ν¬ν•¨

```json
{
  "portfolioHistory": [...],
  "targets": [...],
  "settings": { "darkMode": boolean, "lastUpdated": "datetime" }
}
```

**CSV λ°±μ—…**: ν”λ« ν•νƒλ΅ λ³€ν™ν•μ—¬ Excel λ“± μ™Έλ¶€ λ„κµ¬μ—μ„ λ¶„μ„ κ°€λ¥

```csv
date,symbol,name,quantity,avgPrice,currentPrice,marketValue,unrealizedGain,unrealizedGainPercent,targetWeight,tag
```

### λ°μ΄ν„° λ¨λΈ - μ‹κ°„λ³„ μ¤λƒ…μƒ· μ‹μ¤ν…

**ν•µμ‹¬ κ°λ…**: ν¬νΈν΄λ¦¬μ¤λ” μ‹κ°„λ³„ μ¤λƒ…μƒ·(`PortfolioSnapshot`)μ λ°°μ—΄λ΅ μ €μ¥λ©λ‹λ‹¤.

```typescript
PortfolioSnapshot {
  date: string              // ISO λ‚ μ§
  holdings: Holding[]       // ν•΄λ‹Ή μ‹μ μ λ³΄μ  μΆ…λ©λ“¤
  totalValue: number        // μ΄ ν¬νΈν΄λ¦¬μ¤ κ°€μΉ
  totalGain: number         // μ΄ μ†μµ
  totalGainPercent: number  // μ΄ μμµλ¥ 
}
```

**λ°μ΄ν„° ν™μ© λ°©μ‹**:

- **μµμ‹  λ‚ μ§μ λ°μ΄ν„°**: ν„μ¬ λ³΄μ  ν„ν™©μΌλ΅ ν‘μ‹
- **κ³Όκ±° λ‚ μ§λ“¤μ λ°μ΄ν„°**: κΈ°κ°„λ³„ μμµλ¥  κ³„μ‚°μ— μ‚¬μ© (1κ°μ›”, 3κ°μ›”, 1λ…„)
- **μƒλ΅μ΄ λ°μ΄ν„° μ…λ ¥**: μƒλ΅μ΄ λ‚ μ§ ν•­λ©μΌλ΅ μ¶”κ°€ν•μ—¬ νμ¤ν† λ¦¬ μ μ§€

κ° `Holding`μ€ μ‹¤μ‹κ°„ κ³„μ‚°λ `marketValue`, `unrealizedGain`, `unrealizedGainPercent`λ¥Ό ν¬ν•¨ν•©λ‹λ‹¤.

### κ³„μ‚° λ΅μ§ - utils/calculations.ts

ν•µμ‹¬ κΈμµ κ³„μ‚° ν•¨μλ“¤:

- `calculateUnrealizedGain()`: κ°λ³„ μΆ…λ© μ†μµ κ³„μ‚°
- `calculatePortfolioTotals()`: ν¬νΈν΄λ¦¬μ¤ μ „μ²΄ μ†μµ κ³„μ‚°
- `calculateWeights()`: ν¬νΈν΄λ¦¬μ¤ λ‚΄ μΆ…λ©λ³„ λΉ„μ¤‘ κ³„μ‚°
- `generateRebalancingSuggestions()`: 5% μ„κ³„κ°’ κΈ°λ° λ¦¬λ°Έλ°μ‹± μ μ•
- `calculatePerformanceMetrics()`: κΈ°κ°„λ³„ μ„±κ³Ό μ§€ν‘ (μμµλ¥ , λ³€λ™μ„±, μƒ¤ν”„λΉ„μ¨ λ“±)

### λ°μ΄ν„° λ³€ν™ - utils/dataTransform.ts

- **CSV λ³€ν™**: ν¬νΈν΄λ¦¬μ¤ νμ¤ν† λ¦¬λ¥Ό flat CSV ν•νƒλ΅ λ³€ν™/λ³µμ›
- **νΌ λ°μ΄ν„° μ²λ¦¬**: UI νΌ λ°μ΄ν„°λ¥Ό λ‚΄λ¶€ λ°μ΄ν„° κµ¬μ΅°λ΅ λ³€ν™
- **νμΌ μ²λ¦¬**: νμΌ μ—…λ΅λ“/λ‹¤μ΄λ΅λ“ λ° κ²€μ¦
- **μ ν¨μ„± κ²€μ‚¬**: μ…λ ¥ λ°μ΄ν„° κ²€μ¦ λ° μ—λ¬ μ²λ¦¬

## λ””μμΈ μ‹μ¤ν…

### λ””μμΈ μ›μΉ™

- **λ―Έλ‹λ©€λ¦¬μ¦**: λ¶ν•„μ”ν• μ”μ† μ κ±°, ν•µμ‹¬ κΈ°λ¥μ— μ§‘μ¤‘
- **μ§κ΄€μ„±**: κΈμµ μ©μ–΄μ— μµμ™ν•μ§€ μ•μ€ μ‚¬μ©μλ„ μ‰½κ² μ΄ν•΄
- **μΌκ΄€μ„±**: μ „μ²΄ νμ΄μ§€μ—μ„ λ™μΌν• λ””μμΈ ν¨ν„΄ μ μ©

### μƒ‰μƒ ν”λ νΈ λ° λ μ΄μ•„μ›ƒ

- **μ»¬λ¬**: Primary(#2563EB), Success(#10B981), Warning(#F59E0B), Error(#EF4444)
- **νƒ€μ΄ν¬κ·Έλν”Ό**: ν—¤λ”©(κµµμ€ ν°νΈ 700), λ³Έλ¬Έ(λ³΄ν†µ ν°νΈ 400), μ«μ(λ¨λ…Έμ¤νμ΄μ¤)
- **λ μ΄μ•„μ›ƒ**: ν—¤λ”(λ΅κ³ , λ„¤λΉ„κ²μ΄μ…), μ‚¬μ΄λ“λ°”(λ©”λ‰΄), λ©”μΈ μ½ν…μΈ , ν‘Έν„°(λ°μ΄ν„° κ΄€λ¦¬)

## μ„±λ¥ λ©ν‘

- νμ΄μ§€ λ΅λ”© μ‹κ°„ < 2μ΄
- μ£Όμ” μ•΅μ… μ™„λ£μ¨ > 90%
- λ¨λ“  μ£Όμ” λΈλΌμ°μ € μ§€μ› (Chrome 90+, Firefox 88+, Safari 14+, Edge 90+)

## κ¶μ¥ κ°λ° ν¨ν„΄

### ν„μ¬ ν”„λ΅μ νΈ μƒνƒ

- β… **μ™„μ „ν• κΈ°λ° μΈν”„λΌ**: νƒ€μ… μ‹μ¤ν…, Zustand μ¤ν† μ–΄, μ ν‹Έλ¦¬ν‹° ν•¨μ λ¨λ‘ μ™„λ£
- β **UI μ»΄ν¬λ„νΈ λ―Έκµ¬ν„**: `src/components/` ν΄λ”κ°€ λΉ„μ–΄μμ–΄ Phase 2 κ°λ° λ€κΈ° μƒνƒ
- π― **λ‹¤μ λ‹¨κ³„**: UI μ»΄ν¬λ„νΈ κ°λ°μ—λ§ μ§‘μ¤‘ν•λ©΄ λΉ λ¥Έ μ™„μ„± κ°€λ¥

### Type-First κ°λ° ν¨ν„΄

```typescript
// κ¶μ¥: κΈ°μ΅΄ νƒ€μ… μµλ€ν• ν™μ©
import { Holding, HoldingFormData, ButtonProps } from '../types/portfolio'

// κΈμ§€: μ¤‘λ³µ νƒ€μ… μ •μ β
// interface MyHolding { ... }
```

### Zustand Store μ¤‘μ‹¬ κ°λ°

```typescript
// κ¶μ¥: Storeμ κ³„μ‚°λ κ°’ ν™μ©
const { getCurrentHoldings, getTotalValue, getRebalancingSuggestions } = usePortfolioStore()

// κ¶μ¥: Store μ•΅μ…μΌλ΅ μƒνƒ λ³€κ²½
const { addHolding, updateHolding, deleteHolding } = usePortfolioStore()

// κΈμ§€: μ§μ ‘μ μΈ μƒνƒ μ΅°μ‘ β
// useStateλ΅ ν¬νΈν΄λ¦¬μ¤ λ°μ΄ν„° κ΄€λ¦¬
```

### κ°λ° μ›ν¬ν”λ΅

```typescript
// 1λ‹¨κ³„: κΈ°μ΅΄ νƒ€μ… ν™•μΈ
import { Holding, HoldingFormData } from '../types/portfolio'

// 2λ‹¨κ³„: κΈ°μ΅΄ μ ν‹Έλ¦¬ν‹° ν•¨μ ν™•μΈ
import { calculateUnrealizedGain } from '../utils/calculations'

// 3λ‹¨κ³„: Store μ•΅μ… ν™μ©
const { addHolding } = usePortfolioStore()

// 4λ‹¨κ³„: μ»΄ν¬λ„νΈ κµ¬ν„
const StockForm = () => {
  const handleSubmit = (formData: HoldingFormData) => {
    addHolding(formData) // Storeκ°€ μλ™μΌλ΅ κ³„μ‚° μ²λ¦¬
  }
}
```

### μƒ κΈ°λ¥ μ¶”κ°€μ‹ (Token ν¨μ¨μ  μ ‘κ·Όλ²•)

1. **λ¨Όμ € κΈ°μ΅΄ μ½”λ“ ν™•μΈ**: `Grep` λλ” `Glob`λ΅ μ μ‚¬ν• κΈ°λ¥μ΄ μλ”μ§€ ν™•μΈ
2. **νƒ€μ… μ •μ**: `src/types/portfolio.ts`μ κΈ°μ΅΄ νƒ€μ… ν™•μ¥ λλ” μƒ μΈν„°νμ΄μ¤ μ¶”κ°€
3. **κ³„μ‚° λ΅μ§**: `src/utils/calculations.ts`μ— λΉ„μ¦λ‹μ¤ λ΅μ§ κµ¬ν„
4. **Store μ•΅μ…**: `src/stores/portfolioStore.ts`μ κΈ°μ΅΄ ν¨ν„΄ λ”°λΌ μ•΅μ… μ¶”κ°€
5. **UI μ»΄ν¬λ„νΈ**: κΈ°μ΅΄ `src/components/ui/` μ»΄ν¬λ„νΈ μ¬μ‚¬μ© μ°μ„ , ν•„μ”μ‹μ—λ§ μ‹ κ· μƒμ„±

### μ»΄ν¬λ„νΈ κµ¬μ΅°

```
src/components/
β”β”€β”€ ui/          # μ¬μ‚¬μ© κ°€λ¥ν• κΈ°λ³Έ UI (Button, Input, Card, Modal, Table)
β”β”€β”€ charts/      # Recharts κΈ°λ° μ°¨νΈ μ»΄ν¬λ„νΈ (PieChart, LineChart, BarChart)
β”β”€β”€ portfolio/   # λΉ„μ¦λ‹μ¤ λ΅μ§ μ»΄ν¬λ„νΈ (HoldingsTable, PortfolioSummary, StockModal)
β””β”€β”€ layout/      # λ μ΄μ•„μ›ƒ μ»΄ν¬λ„νΈ (Header, Sidebar, Layout)
```

### Tailwind CSS μ¤νƒ€μΌλ§

- **λ―Έλ¦¬ μ •μλ ν΄λμ¤**: `.card`, `.btn`, `.btn-primary` λ“± (`src/index.css`)
- **λ‹¤ν¬λ¨λ“**: `dark:` prefix μ‚¬μ©, `settings.darkMode`λ΅ μ μ–΄

```tsx
// κ¶μ¥: λ―Έλ¦¬ μ •μλ ν΄λμ¤ μ‚¬μ©
<div className="card">
  <h2 className="text-2xl font-semibold text-gray-900 dark:text-white">ν¬νΈν΄λ¦¬μ¤ ν„ν™©</h2>
  <button className="btn btn-primary">μ£Όμ‹ μ¶”κ°€</button>
  <button className="btn btn-secondary">μ·¨μ†</button>
</div>
```

### μ„±λ¥ μµμ ν™” ν¨ν„΄

```typescript
// κ¶μ¥: React.memoλ΅ λ¶ν•„μ”ν• λ¦¬λ λ”λ§ λ°©μ§€
const HoldingsTable = React.memo(({ holdings }: { holdings: Holding[] }) => {
  // ...
})

// κ¶μ¥: useCallbackμΌλ΅ ν•¨μ λ©”λ¨μ΄μ μ΄μ…
const handleAddHolding = useCallback(
  (formData: HoldingFormData) => {
    addHolding(formData)
  },
  [addHolding]
)
```

### λ°μ΄ν„° νλ¦„ ν¨ν„΄

```
μ‚¬μ©μ μ…λ ¥ β†’ HoldingFormData β†’ Store.addHolding() β†’ μλ™ κ³„μ‚° β†’ UI μ—…λ°μ΄νΈ
                                     β†“
                            LocalStorage μλ™ μ €μ¥
```

## λ°μ΄ν„° κµ¬μ΅° μ΄ν•΄

### ν¬νΈν΄λ¦¬μ¤ νμ¤ν† λ¦¬ vs ν„μ¬ μƒνƒ

- **portfolioHistory**: μ‹κ°„λ³„ ν¬νΈν΄λ¦¬μ¤ μ¤λƒ…μƒ· λ°°μ—΄ (κ³Όκ±° κΈ°λ΅ ν¬ν•¨)
- **getCurrentSnapshot()**: κ°€μ¥ μµκ·Ό μ¤λƒ…μƒ· (ν„μ¬ ν¬νΈν΄λ¦¬μ¤ μƒνƒ)
- **updateCurrentHoldings()**: ν„μ¬ λ³΄μ  μΆ…λ© μ—…λ°μ΄νΈμ‹ μ‚¬μ© (λ§μ§€λ§‰ μ¤λƒ…μƒ· μμ •)
- **addPortfolioSnapshot()**: μƒλ΅μ΄ μ‹μ μ μ¤λƒ…μƒ· μ¶”κ°€

### CSV λ°μ΄ν„° κµ¬μ΅°

CSVλ” ν¬νΈν΄λ¦¬μ¤ νμ¤ν† λ¦¬λ¥Ό flattenν• ν•νƒμ…λ‹λ‹¤:

```csv
date,symbol,name,quantity,avgPrice,currentPrice,marketValue,unrealizedGain,unrealizedGainPercent,targetWeight,tag
2024-01-01,AAPL,Apple Inc.,100,150.00,155.00,15500,500,3.33,30,Tech
```

### λ¦¬λ°Έλ°μ‹± λ΅μ§

5% μ„κ³„κ°’μ„ κΈ°μ¤€μΌλ΅:

- ν„μ¬ λΉ„μ¤‘κ³Ό λ©ν‘ λΉ„μ¤‘ μ°¨μ΄κ°€ 5% μ΄μƒμΈ μΆ…λ©λ“¤μ— λ€ν•΄
- λ§¤μ/λ§¤λ„ μλ‰κ³Ό κΈμ•΅μ„ κ³„μ‚°ν•μ—¬ `RebalancingSuggestion` μƒμ„±

## κ°λ° μ°μ„ μμ„

### Phase 1 (MVP) - μ™„λ£ β…

ν”„λ΅μ νΈ μ΄κΈ°ν™” λ° κΈ°λ° κµ¬μ¶• μ™„λ£

### Phase 2 (λ‹¤μ λ‹¨κ³„) - κΈ°λ³Έ UI μ»΄ν¬λ„νΈ κ°λ°

**κ°λ° μ°μ„ μμ„**:

1. **UI μ»΄ν¬λ„νΈ λ¨Όμ €**: `Button`, `Input`, `Card`, `Modal` κΈ°λ³Έ μ»΄ν¬λ„νΈ
2. **HoldingsTable**: κ°€μ¥ μ¤‘μ”ν• λΉ„μ¦λ‹μ¤ μ»΄ν¬λ„νΈ
3. **StockModal**: μ£Όμ‹ μ¶”κ°€/μμ • νΌ
4. **μ°¨νΈ μ»΄ν¬λ„νΈ**: `PieChart` (μΆ…λ©λ³„ λΉ„μ¤‘)
5. **λ μ΄μ•„μ›ƒ**: `Header`, `Sidebar` κµ¬μ΅°

**κµ¬ν„ λ‚΄μ©**:

1. **μ£Όμ‹ λ³΄μ  ν„ν™© νμ΄μ§€**: μ£Όμ‹ μ¶”κ°€/μμ •/μ‚­μ , ν„μ¬ ν¬νΈν΄λ¦¬μ¤ ν„ν™© ν…μ΄λΈ”, μΆ…λ©λ³„ λΉ„μ¤‘ νμ΄μ°¨νΈ
2. **ν¬νΈν΄λ¦¬μ¤ κ΄€λ¦¬ νμ΄μ§€**: λ©ν‘ λΉ„μ¤‘ μ„¤μ •, ν„μ¬ vs λ©ν‘ λΉ„μ¤‘ λΉ„κµ (λ§‰λ€μ°¨νΈ)
3. **λ¦¬λ°Έλ°μ‹± κ΄€λ¦¬ νμ΄μ§€**: λ¦¬λ°Έλ°μ‹± μ μ• (κ³ μ • 5% μ„κ³„κ°’)
4. **λ°μ΄ν„° κ΄€λ¦¬**: JSON μ—…λ΅λ“/λ‹¤μ΄λ΅λ“, LocalStorage μ €μ¥

### Phase 3 - μ¶”κ°€ κΈ°λ¥

1. λΌμΈμ°¨νΈλ΅ μμµλ¥  μ¶”μ΄ ν‘μ‹
2. CSV μ—…λ΅λ“/λ‹¤μ΄λ΅λ“
3. κΈ°κ°„λ³„ μμµλ¥  κ³„μ‚° (1κ°μ›”, 3κ°μ›”, 1λ…„)
4. νƒκ·Έ μ‹μ¤ν…μ„ ν†µν• μΆ…λ© λ¶„λ¥
5. λ‹¤ν¬λ¨λ“ μ§€μ›

### μ‚¬μ©μ μ¤ν† λ¦¬ (κ°λ° μ‹ μ°Έκ³ )

- **λ³΄μ  ν„ν™©**: κ°μΈ ν¬μμκ°€ λ³΄μ  μ£Όμ‹ ν„ν™©μ„ ν•λμ— λ³΄κ³  ν¬νΈν΄λ¦¬μ¤ μƒνƒλ¥Ό λΉ λ¥΄κ² νμ•…
- **ν¬νΈν΄λ¦¬μ¤ κ΄€λ¦¬**: ν¬μμκ°€ λ©ν‘ ν¬νΈν΄λ¦¬μ¤ λΉ„μ¤‘μ„ μ„¤μ •ν•κ³  ν„μ¬μ™€ λΉ„κµν•μ—¬ λ¦¬λ°Έλ°μ‹± ν•„μ”μ„± νλ‹¨
- **λ¦¬λ°Έλ°μ‹±**: ν¬μμκ°€ λ¦¬λ°Έλ°μ‹± μ μ•μ„ λ°›μ•„ ν¬νΈν΄λ¦¬μ¤λ¥Ό λ©ν‘μ— λ§κ² μ΅°μ •

κ° κ°λ° λ‹¨κ³„μ μ„Έλ¶€μ‚¬ν•­μ€ `docs/development-plan.md`μ™€ `docs/prd.md`λ¥Ό μ°Έμ΅°ν•μ„Έμ”.

## κ°λ° ν¨μ¨μ„± κ°€μ΄λ“

### μ½”λ“ μ¬μ‚¬μ© μ°μ„ 

- **κ³„μ‚° ν•¨μ**: `calculateUnrealizedGain`, `calculateWeights`, `generateRebalancingSuggestions` λ“± κΈ°μ΅΄ ν•¨μ ν™μ©
- **λ°μ΄ν„° λ³€ν™**: `formDataToHolding`, `portfolioToCsv`, `validatePortfolioData` λ“± κΈ°μ΅΄ μ ν‹Έλ¦¬ν‹° μ‚¬μ©
- **μ¤ν† μ–΄ ν¨ν„΄**: κΈ°μ΅΄ μ•΅μ…λ“¤(`addHolding`, `updateHolding`, `deleteHolding`)μ ν¨ν„΄ λ”°λ¥΄κΈ°

### λΉ λ¥Έ κ°λ°μ„ μ„ν• ν•µμ‹¬ νμΌλ“¤

- **νƒ€μ… μ°Έμ΅°**: `src/types/portfolio.ts` - λ¨λ“  μΈν„°νμ΄μ¤ μ •μ
- **μƒνƒ κ΄€λ¦¬**: `src/stores/portfolioStore.ts` - μ „μ—­ μƒνƒ λ° μ•΅μ…
- **λΉ„μ¦λ‹μ¤ λ΅μ§**: `src/utils/calculations.ts` - κΈμµ κ³„μ‚°
- **μ¤νƒ€μΌ κ°€μ΄λ“**: `src/index.css` - λ―Έλ¦¬ μ •μλ CSS ν΄λμ¤λ“¤

### λ¶ν•„μ”ν• Token μ‚¬μ© λ°©μ§€

- μƒ κΈ°λ¥ κµ¬ν„ μ „ κΈ°μ΅΄ μ μ‚¬ κΈ°λ¥ κ²€μƒ‰μΌλ΅ μ¤‘λ³µ μ‘μ—… λ°©μ§€
- μ„¤μ • νμΌλ“¤μ€ μ΄λ―Έ μ™„λ£λ μƒνƒμ΄λ―€λ΅ μμ • λ¶ν•„μ”
- λ¬Έμ„ν™”λ” μµμ†ν•μΌλ΅, μ½”λ“ μμ²΄κ°€ λ¬Έμ„ μ—­ν• 

## 2025 μ›Ή λ””μμΈ νΈλ λ“ λ° λ¨λ²” μ‚¬λ΅€

μ΄ μ„Ήμ…μ€ Stock Portfolio Dashboard v3 κ°λ° μ‹ μ°Έκ³ ν•  μ μλ” 2025λ…„ μ›Ή λ””μμΈ νΈλ λ“μ…λ‹λ‹¤.

### μ£Όμ” λ””μμΈ νΈλ λ“

1. **λ§μ΄ν¬λ΅ μΈν„°λ™μ…**

   - μ‚¬μ©μ ν”Όλ“λ°±μ„ μ„ν• λ―Έλ¬ν• μ• λ‹λ©”μ΄μ…
   - νΈλ²„ ν¨κ³Ό κ°™μ€ μƒνΈμ‘μ© μ”μ†λ΅ μ°Έμ—¬λ„ ν–¥μƒ
   - μ§κ΄€μ μ΄κ³  μΈκ°„μ μΈ λ””μ§€ν„Έ κ²½ν— κµ¬ν„

2. **λ νΈλ΅ μ¤νƒ€μΌ λ””μμΈ**

   - λ³Όλ“ν• μƒ‰μƒ, ν”½μ…€ μ•„νΈ, ν–¥μλ¥Ό μμ•„λ‚΄λ” μ‹κ° μ”μ† ν™μ©
   - 80λ…„λ€, 90λ…„λ€, 2000λ…„λ€ μ΄λ° λ―Έν•™μ„ ν„λ€ μ›Ή κΈ°λ¥κ³Ό κ²°ν•©
   - μ§€λ‚μΉκ² μ„Έλ ¨λ λ””μμΈ λ€μ‹  μ¬λ―Έμλ” λ€μ• μ μ‹

3. **μΈν„°λ™ν‹°λΈ 3D μ”μ†**

   - μ›Ήμ‚¬μ΄νΈμ— κΉμ΄μ™€ ν„μ‹¤κ° μ¶”κ°€
   - AR/VR κ°™μ€ κ²½ν—μΌλ΅ λ°μ „
   - λ°μ…κ° μκ³  λ§¤λ ¥μ μΈ λ””μ§€ν„Έ μƒνΈμ‘μ© κµ¬ν„

4. **μ¤ν¬λ©λ¶ λ―Έν•™**

   - λ μ΄μ–΄λ“λκ³  λΉ„λ€μΉ­μ μΈ λ””μμΈ
   - ν…μ¤μ², μ™€μ‹ν…μ΄ν”„, μ¤ν‹°μ»¤, μμ‘μ—… μ”μ† ν¬ν•¨
   - μ§„μ •μ„±κ³Ό κ°μΈμ  μ°½μμ„± κ°•μ΅°

5. **λ³Όλ“ λ―Έλ‹λ©€λ¦¬μ¦**

   - κ°•λ ¬ν• νƒ€μ΄ν¬κ·Έλν”Όκ°€ ν¬ν•¨λ κΉ”λ”ν• λ μ΄μ•„μ›ƒ
   - ν™”μ΄νΈ μ¤νμ΄μ¤ κ·Ήλ€ν™”
   - μ½ν…μΈ  λ…ν™•μ„±κ³Ό μ‹κ°μ  λ§¤λ ¥μ— μ΄μ 

6. **AI μƒμ„± λΉ„μ£Όμ–Ό**

   - λ…νΉν•κ³  λ§μ¶¤ν• μ½ν…μΈ λ¥Ό λΉ λ¥΄κ² μ μ‘
   - λ””μμΈ μ›ν¬ν”λ΅ κ°μ„ 
   - μλ™ν™”λ¥Ό ν™μ©ν•λ©΄μ„λ„ μ°½μμ  ν†µμ κ¶ μ μ§€

7. **λ‹¤ν¬ ν…λ§ λ””μμΈ**

   - λμ ν”Όλ΅λ¥Ό μ¤„μ΄λ” μ»¤μ¤ν„°λ§μ΄μ§• κ°€λ¥ν• μΈν„°νμ΄μ¤
   - κ³ λ€λΉ„ λ μ΄μ•„μ›ƒ
   - μ‚¬μ©μ νΈμμ™€ μ„ νΈλ„ κ³ λ ¤

8. **ν•μ΄νΌ κ°μΈν™”λ μΈν„°νμ΄μ¤**

   - κ°λ³„ μ‚¬μ©μμ—κ² μ½ν…μΈ μ™€ λ μ΄μ•„μ›ƒ μ μ‘
   - λ” κΉμ€ μ—°κ²° κµ¬μ¶•
   - λ§μ¶¤ν• κ²½ν—μ„ ν†µν• μ‚¬μ©μ„± ν–¥μƒ

9. **μ ‘κ·Όμ„± (Accessibility)**

   - λ¨λ“  μ‚¬μ©μκ°€ μ‚¬μ© κ°€λ¥ν• μ›Ήμ‚¬μ΄νΈ λ³΄μ¥
   - κ³ λ€λΉ„, ν‚¤λ³΄λ“ λ‚΄λΉ„κ²μ΄μ…, ARIA λΌλ²¨ κµ¬ν„
   - ν¬μ©μ„± ν‘μ¤€ μ¤€μ

10. **μ§€μ† κ°€λ¥ν• μ›Ή λ””μμΈ**
    - ν¨μ¨μ μΈ μ½”λ”©μΌλ΅ ν™κ²½ μν–¥ κ°μ†
    - μ΄λ―Έμ§€ λ° νΈμ¤ν… μµμ ν™”
    - ν™κ²½μ„ κ³ λ ¤ν•λ” μ†λΉ„μ κΈ°λ€μ— λ¶€ν•©

### ν”„λ΅μ νΈ μ μ© κ¶μ¥μ‚¬ν•­

**Stock Portfolio Dashboard v3**μ— μ μ© κ°€λ¥ν• νΈλ λ“:

- **λ³Όλ“ λ―Έλ‹λ©€λ¦¬μ¦**: κΈ°μ΅΄ λ””μμΈ μ›μΉ™κ³Ό μΌμΉ
- **λ‹¤ν¬ ν…λ§ λ””μμΈ**: μ΄λ―Έ κ³„νλ λ‹¤ν¬/λΌμ΄νΈ λ¨λ“ μ§€μ›
- **λ§μ΄ν¬λ΅ μΈν„°λ™μ…**: λ²„νΌ, μ°¨νΈ μƒνΈμ‘μ©μ— λ―Έλ¬ν• μ• λ‹λ©”μ΄μ… μ¶”κ°€
- **μ ‘κ·Όμ„±**: κΈμµ λ°μ΄ν„° μ‹κ°ν™”μ—μ„ μ¤‘μ”ν• κ³ λ€λΉ„ μƒ‰μƒ ν™μ©
- **ν•μ΄νΌ κ°μΈν™”**: μ‚¬μ©μ μ„¤μ • κΈ°λ° μΈν„°νμ΄μ¤ μ»¤μ¤ν„°λ§μ΄μ§•

μ΄ νΈλ λ“λ“¤μ€ ν”„λ΅μ νΈμ **κ°„λ‹¨ν•κ³  μ§κ΄€μ μΈ μΈν„°νμ΄μ¤** λ©ν‘μ™€ **λ΅μ»¬ μ €μ¥μ„ ν†µν• λ°μ΄ν„° ν”„λΌμ΄λ²„μ‹** μ›μΉ™μ— μ λ¶€ν•©ν•©λ‹λ‹¤.
